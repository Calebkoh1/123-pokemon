function _0x476c(){const _0x33f64f=['162144uvLxSb','[Proxy]\x20Applied\x20proxy\x20settings\x20with\x20authentication','none','clearProxy','Cannot\x20access','2459061TPEvFT','checkout','Background:\x20Activating\x20site\x20','message','onMessage','storage','\x20to\x20tab\x20','common/element-finder.js','Cleaned\x20up\x20script\x20tracking\x20for\x20closed\x20tab\x20','get','Failed\x20to\x20send\x20','/gift-registry','addListener','type','\x20with\x20this\x20URL,\x20skipping:','Background:\x20Sending\x20profile\x20with\x20card\x20','\x0a\x20\x20\x20\x20\x20\x20function\x20FindProxyForURL(url,\x20host)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20\x22PROXY\x20','8RNMiOU','catch','debugMode','29365kpMhTV','proxyConfig','tabs','startsWith','globalSettings','No\x20profiles\x20available','length','654cvVogC','tab','action','selectedProfile','warn','runtime','siteSettings','profiles','includes','\x20not\x20enabled\x20in\x20settings:','Background:\x20No\x20valid\x20profile\x20could\x20be\x20determined','set','error','log','16ekEvAZ','url','Preparing\x20to\x20inject\x20scripts\x20for\x20tab\x20','488352BDuoBm','sites/target/selectors.js','username','debugLog','proxy','2072590HoIyRx','payment','154iuSyJv','keys','[Proxy]\x20Error\x20clearing\x20proxy\x20settings:','forEach','[Proxy]\x20Error\x20applying\x20proxy\x20settings:','filter','156MVEyux','port','74930nVXHQD','context','1293693WskpiA'];_0x476c=function(){return _0x33f64f;};return _0x476c();}function _0x456e(_0x11768b,_0x5d2cb8){const _0x476c08=_0x476c();return _0x456e=function(_0x456e1d,_0x1d4829){_0x456e1d=_0x456e1d-0x1e2;let _0xf1d553=_0x476c08[_0x456e1d];return _0xf1d553;},_0x456e(_0x11768b,_0x5d2cb8);}const _0x2e8505=_0x456e;(function(_0x567e25,_0xb793de){const _0x2caa13=_0x456e,_0x444e66=_0x567e25();while(!![]){try{const _0x8f8a4d=parseInt(_0x2caa13(0x1f5))/0x1*(parseInt(_0x2caa13(0x223))/0x2)+parseInt(_0x2caa13(0x1f4))/0x3+-parseInt(_0x2caa13(0x1f0))/0x4*(parseInt(_0x2caa13(0x1f2))/0x5)+parseInt(_0x2caa13(0x215))/0x6*(-parseInt(_0x2caa13(0x20e))/0x7)+-parseInt(_0x2caa13(0x20b))/0x8*(parseInt(_0x2caa13(0x1fa))/0x9)+-parseInt(_0x2caa13(0x1e8))/0xa+parseInt(_0x2caa13(0x1ea))/0xb*(parseInt(_0x2caa13(0x1e3))/0xc);if(_0x8f8a4d===_0xb793de)break;else _0x444e66['push'](_0x444e66['shift']());}catch(_0xbcfff2){_0x444e66['push'](_0x444e66['shift']());}}}(_0x476c,0xbd6fa));let injectedScripts={};function cleanupScriptTracking(){const _0x3937b0=_0x456e,_0x3121a7=Date['now'](),_0x2fdb5c=0x1e*0x3c*0x3e8;Object['keys'](injectedScripts)[_0x3937b0(0x1ed)](_0x27fb1b=>{_0x3121a7-injectedScripts[_0x27fb1b]>_0x2fdb5c&&delete injectedScripts[_0x27fb1b];}),console['log']('Cleaned\x20up\x20script\x20tracking.\x20Current\x20entries:',Object['keys'](injectedScripts)['length']);}setInterval(cleanupScriptTracking,0x5*0x3c*0x3e8);async function applyProxySettings(_0x45d41a){const _0x1e6b5b=_0x456e;let _0x5bbe72;if(_0x45d41a[_0x1e6b5b(0x1e5)]&&_0x45d41a['password']){_0x5bbe72='\x0a\x20\x20\x20\x20\x20\x20function\x20FindProxyForURL(url,\x20host)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20\x22PROXY\x20'+_0x45d41a['host']+':'+_0x45d41a['port']+'\x22;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20';const _0x157d2d={'username':_0x45d41a[_0x1e6b5b(0x1e5)],'password':_0x45d41a['password']};await chrome[_0x1e6b5b(0x1e7)]['settings']['set']({'value':{'mode':'pac_script','pacScript':{'data':_0x5bbe72}},'scope':'regular'}),chrome['proxy']['onAuthRequired']['addListener'](function(_0x5c85fe,_0x120caf){_0x120caf({'username':_0x157d2d['username'],'password':_0x157d2d['password']});},{'urls':['<all_urls>']},['asyncBlocking']),console['log'](_0x1e6b5b(0x1f6));}else _0x5bbe72=_0x1e6b5b(0x20a)+_0x45d41a['host']+':'+_0x45d41a[_0x1e6b5b(0x1f1)]+'\x22;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20',await chrome['proxy']['settings'][_0x1e6b5b(0x220)]({'value':{'mode':'pac_script','pacScript':{'data':_0x5bbe72}},'scope':'regular'}),console['log']('[Proxy]\x20Applied\x20proxy\x20settings\x20without\x20authentication');}async function clearProxySettings(){const _0x1bfd1f=_0x456e;await chrome['proxy']['settings']['clear']({'scope':'regular'}),console[_0x1bfd1f(0x222)]('[Proxy]\x20Cleared\x20proxy\x20settings');}chrome[_0x2e8505(0x21a)]['onInstalled']['addListener'](function(){const _0x3ce3b8=_0x2e8505;console['log']('Auto-Checkout\x20extension\x20installed/updated'),chrome['storage']['local']['get'](['profiles','selectedProfile','siteSettings','globalSettings','debugMode',_0x3ce3b8(0x20f)],_0x53a3a6=>{const _0x2ce8f5=_0x3ce3b8,_0x576ce9={'profiles':_0x53a3a6['profiles']||[],'selectedProfile':_0x53a3a6['selectedProfile']||'','debugMode':_0x53a3a6['debugMode']!==undefined?_0x53a3a6[_0x2ce8f5(0x20d)]:!![],'globalSettings':_0x53a3a6[_0x2ce8f5(0x212)]||{'autoSubmit':!![],'randomizeDelay':![]},'siteSettings':_0x53a3a6['siteSettings']||{'target':{'enabled':![],'quantity':0x1,'profileId':''}}},_0x37819c={};for(const _0x2f5f04 in _0x576ce9){_0x53a3a6[_0x2f5f04]===undefined&&(_0x37819c[_0x2f5f04]=_0x576ce9[_0x2f5f04]);}Object[_0x2ce8f5(0x1eb)](_0x37819c)['length']>0x0&&chrome[_0x2ce8f5(0x1ff)]['local']['set'](_0x37819c),_0x53a3a6['proxyConfig']?(console['log']('[Proxy\x20Init]\x20Proxy\x20configuration\x20found,\x20applying...'),applyProxySettings(_0x53a3a6['proxyConfig'])['catch'](_0x50cff4=>{const _0x2df972=_0x2ce8f5;console[_0x2df972(0x221)]('[Proxy\x20Init]\x20Error\x20applying\x20proxy\x20settings:',_0x50cff4);})):console['log']('[Proxy\x20Init]\x20No\x20proxy\x20configuration\x20found.');});}),chrome['runtime'][_0x2e8505(0x1fe)]['addListener'](function(_0xcbeeb,_0x387356,_0x11e6e9){const _0x4ce312=_0x2e8505;console[_0x4ce312(0x222)]('Background:\x20onMessage\x20listener\x20triggered.\x20Received\x20message:',_0xcbeeb,'from\x20sender:',_0x387356);if(_0xcbeeb['action']==='applyProxy')return applyProxySettings(_0xcbeeb['proxyConfig'])['then'](()=>{_0x11e6e9({'success':!![]});})['catch'](_0x116e21=>{const _0xbac616=_0x4ce312;console['error'](_0xbac616(0x1ee),_0x116e21),_0x11e6e9({'success':![],'error':_0x116e21['message']});}),!![];else{if(_0xcbeeb[_0x4ce312(0x217)]===_0x4ce312(0x1f8))return clearProxySettings()['then'](()=>{_0x11e6e9({'success':!![]});})[_0x4ce312(0x20c)](_0x4c6fb3=>{const _0xea3dad=_0x4ce312;console['error'](_0xea3dad(0x1ec),_0x4c6fb3),_0x11e6e9({'success':![],'error':_0x4c6fb3[_0xea3dad(0x1fd)]});}),!![];else{if(_0xcbeeb['action']==='updateBadge'&&_0xcbeeb['text']!==undefined)return chrome['action']['setBadgeText']({'text':_0xcbeeb['text'],'tabId':_0x387356[_0x4ce312(0x216)]?_0x387356['tab']['id']:null}),_0xcbeeb['color']&&chrome['action']['setBadgeBackgroundColor']({'color':_0xcbeeb['color'],'tabId':_0x387356['tab']?_0x387356['tab']['id']:null}),![];else{if(_0xcbeeb['action']===_0x4ce312(0x1e6))return chrome['storage']['local'][_0x4ce312(0x203)]([_0x4ce312(0x20d)],function(_0x5110b9){const _0x204997=_0x4ce312;_0x5110b9['debugMode']&&console[_0x204997(0x222)]('DEBUG\x20['+_0xcbeeb[_0x204997(0x1f3)]+']:',_0xcbeeb['data']);}),![];else{if(_0xcbeeb[_0x4ce312(0x217)]==='getProfileDataForCheckout')return chrome[_0x4ce312(0x1ff)]['local']['get'](['profiles','selectedProfile'],function(_0x508a83){const _0x1aea25=_0x4ce312;console['log']('Background:\x20Received\x20request\x20for\x20profile\x20data');try{console['log']('Background:\x20Retrieved\x20profile\x20data:',_0x508a83[_0x1aea25(0x21c)]?_0x508a83['profiles']['length']+'\x20profiles\x20found':'no\x20profiles','selected:',_0x508a83['selectedProfile']||_0x1aea25(0x1f7));if(!_0x508a83['profiles']||!_0x508a83['profiles']['length']){console['warn']('Background:\x20No\x20profiles\x20found\x20in\x20storage'),_0x11e6e9({'error':_0x1aea25(0x213)});return;}let _0x499cf7=_0x508a83[_0x1aea25(0x218)]?_0x508a83['profiles']['find'](_0x5c00eb=>_0x5c00eb['id']===_0x508a83['selectedProfile']):null;!_0x499cf7&&(console['log']('Background:\x20Selected\x20profile\x20not\x20found\x20or\x20invalid,\x20defaulting\x20to\x20first\x20available'),_0x499cf7=_0x508a83[_0x1aea25(0x21c)][0x0]);if(!_0x499cf7){console[_0x1aea25(0x219)](_0x1aea25(0x21f)),_0x11e6e9({'error':'No\x20valid\x20profile\x20found'});return;}if(_0x499cf7[_0x1aea25(0x1e9)]&&_0x499cf7['payment']['cardNumber']){const _0x21d9e2=_0x499cf7['payment']['cardNumber'],_0x5561dc=_0x21d9e2['substring'](0x0,0x4)+'...'+_0x21d9e2['substring'](_0x21d9e2['length']-0x4);console[_0x1aea25(0x222)](_0x1aea25(0x209)+_0x5561dc);}else!_0x499cf7['cardNumber']&&console['warn']('Background:\x20Profile\x20has\x20no\x20card\x20number\x20data');_0x11e6e9({'profileData':_0x499cf7}),console['log']('Background:\x20sendResponse\x20executed\x20for\x20getProfileDataForCheckout.');}catch(_0x42204d){console['error']('Background:\x20Error\x20processing\x20profile\x20data\x20request:',_0x42204d),_0x11e6e9({'error':_0x42204d[_0x1aea25(0x1fd)]});}}),!![];else{if(_0xcbeeb['action']==='pageDetected'){const _0x24b42c=_0xcbeeb['site'],_0x4408d8=_0xcbeeb[_0x4ce312(0x207)];return _0x24b42c&&_0x4408d8&&_0x387356['tab']&&chrome['storage']['local'][_0x4ce312(0x203)](['siteSettings'],function(_0x573219){const _0x4e6caa=_0x4ce312;_0x573219[_0x4e6caa(0x21b)]?.[_0x24b42c]?.['enabled']===!![]?(console['log'](_0x4e6caa(0x1fc)+_0x24b42c+'\x20with\x20settings:',_0x573219['siteSettings'][_0x24b42c]),chrome['tabs']['sendMessage'](_0x387356['tab']['id'],{'action':'activateSite','site':_0x24b42c,'siteSettings':_0x573219['siteSettings'][_0x24b42c]})['catch'](_0x9120db=>console['warn']('Could\x20not\x20send\x20activateSite\x20to\x20tab\x20'+_0x387356['tab']['id']+':\x20'+_0x9120db['message']))):console['log']('Background:\x20Site\x20'+_0x24b42c+_0x4e6caa(0x21e),_0x573219['siteSettings']?.[_0x24b42c]?.['enabled']?'Enabled':'Disabled');}),![];}else{if(_0xcbeeb['action']==='getSiteSettings'){const _0x2e3ed7=_0xcbeeb['site'];return _0x2e3ed7?(chrome['storage']['local']['get'](['siteSettings','globalSettings'],function(_0x3081d9){const _0x4ff18c=_0x4ce312;_0x11e6e9({'siteSettings':_0x3081d9[_0x4ff18c(0x21b)]?_0x3081d9['siteSettings'][_0x2e3ed7]:null,'globalSettings':_0x3081d9['globalSettings']});}),!![]):(_0x11e6e9({}),![]);}else console['log']('Background:\x20Unhandled\x20message\x20action:',_0xcbeeb['action']);}}}}}}return![];});async function injectScripts(_0x2d2992,_0x17c0fb,_0x4dcf75=0x0){const _0x574f19=_0x2e8505,_0x310cf9=0x2;try{let _0x156fc2='';try{const _0x5091c9=await chrome[_0x574f19(0x210)][_0x574f19(0x203)](_0x2d2992);_0x156fc2=_0x5091c9[_0x574f19(0x224)]||'';if(_0x156fc2['includes']('target.com/p/')){const _0x4e18d2=_0x156fc2['split']('/'),_0x344300=_0x4e18d2['findIndex'](_0xb0ed20=>_0xb0ed20==='p');_0x344300>-0x1&&_0x344300+0x2<_0x4e18d2[_0x574f19(0x214)]&&(_0x156fc2='target_product_'+_0x4e18d2[_0x344300+0x1]+'_'+_0x4e18d2[_0x344300+0x2]);}}catch(_0x4963db){console['warn']('Error\x20getting\x20tab\x20URL\x20for\x20'+_0x2d2992+':',_0x4963db);}const _0xe9f555=_0x2d2992+'_'+_0x156fc2+'_'+_0x17c0fb['join']('_');console[_0x574f19(0x222)](_0x574f19(0x1e2)+_0x2d2992+'\x20with\x20URL\x20key:\x20'+_0x156fc2);if(injectedScripts[_0xe9f555]){console[_0x574f19(0x222)]('Scripts\x20already\x20injected\x20for\x20tab\x20'+_0x2d2992+_0x574f19(0x208),_0x156fc2);return;}injectedScripts[_0xe9f555]=Date['now'](),await chrome['scripting']['executeScript']({'target':{'tabId':_0x2d2992},'files':_0x17c0fb}),console['log']('Successfully\x20injected\x20scripts\x20into\x20tab\x20'+_0x2d2992+':',_0x17c0fb);}catch(_0x5abba1){if(_0x5abba1['message']['includes'](_0x574f19(0x1f9))||_0x5abba1['message']['includes']('extension\x20context\x20invalidated')){console['log']('Skipping\x20script\x20injection\x20into\x20protected/invalidated\x20tab\x20'+_0x2d2992+':\x20'+_0x5abba1['message']);return;}console['error']('Error\x20injecting\x20scripts\x20into\x20tab\x20'+_0x2d2992+':',_0x5abba1);if(_0x4dcf75<_0x310cf9){console[_0x574f19(0x222)]('Retrying\x20script\x20injection\x20(attempt\x20'+(_0x4dcf75+0x1)+'/'+_0x310cf9+')...'),await new Promise(_0x479043=>setTimeout(_0x479043,0x1f4*(_0x4dcf75+0x1)));const _0x30e65c=_0x2d2992+'_'+_0x17c0fb['join']('_');delete injectedScripts[_0x30e65c],await injectScripts(_0x2d2992,_0x17c0fb,_0x4dcf75+0x1);}else console['error']('Max\x20retries\x20reached\x20for\x20injecting\x20scripts\x20into\x20tab\x20'+_0x2d2992+'.');}}chrome['tabs']['onRemoved']['addListener'](_0x29c3f3=>{const _0xf57858=_0x2e8505,_0x199523=Object['keys'](injectedScripts)[_0xf57858(0x1ef)](_0x4eff43=>_0x4eff43[_0xf57858(0x211)](_0x29c3f3+'_'));_0x199523['forEach'](_0x2ac244=>{delete injectedScripts[_0x2ac244];}),console['log'](_0xf57858(0x202)+_0x29c3f3);});async function sendTabMessageWithRetry(_0x4c7a7f,_0x39df5b,_0x5c6dd5=0x3,_0x4b73c0=0x1f4){const _0x1a57f3=_0x2e8505;let _0x38b42a=0x0;const _0x2c01a0=async()=>{const _0x464939=_0x456e;try{return await chrome['tabs']['sendMessage'](_0x4c7a7f,_0x39df5b);}catch(_0x598ae2){console['warn']('Attempt\x20'+_0x38b42a+'\x20to\x20send\x20'+_0x39df5b['action']+'\x20to\x20tab\x20'+_0x4c7a7f+'\x20failed:',_0x598ae2[_0x464939(0x1fd)]);throw _0x598ae2;}};while(_0x38b42a<_0x5c6dd5){try{return await new Promise(_0x11114b=>setTimeout(_0x11114b,_0x4b73c0*Math['pow'](0x2,_0x38b42a))),console['log']('Attempt\x20'+(_0x38b42a+0x1)+'/'+_0x5c6dd5+'\x20to\x20send\x20'+_0x39df5b['action']+'\x20to\x20tab\x20'+_0x4c7a7f),await _0x2c01a0();}catch(_0x587679){_0x38b42a++;if(_0x38b42a>=_0x5c6dd5)return console['error'](_0x1a57f3(0x204)+_0x39df5b[_0x1a57f3(0x217)]+'\x20to\x20tab\x20'+_0x4c7a7f+'\x20after\x20'+_0x5c6dd5+'\x20attempts'),null;}}}chrome[_0x2e8505(0x210)]['onUpdated'][_0x2e8505(0x206)](function(_0x57ff63,changeInfo,_0x1815e6){const _0x45f2f5=_0x2e8505;if(changeInfo['status']==='complete'&&_0x1815e6['url']&&!_0x1815e6[_0x45f2f5(0x224)]['startsWith']('chrome://')){if(_0x1815e6['url']['includes']('target.com'))try{let _0x1ce715='';if(_0x1815e6['url']['includes']('/p/'))_0x1ce715='product';else{if(_0x1815e6['url'][_0x45f2f5(0x21d)]('/checkout'))_0x1ce715=_0x45f2f5(0x1fb);else{if(_0x1815e6['url']['includes']('/cart'))_0x1ce715='cart';else{if(_0x1815e6['url']['includes'](_0x45f2f5(0x205)))_0x1ce715='registry';}}}console[_0x45f2f5(0x222)]('Target\x20page\x20detected:\x20'+_0x1ce715+'\x20at\x20URL:\x20'+_0x1815e6['url']);const _0x8790f5=['common/utils.js',_0x45f2f5(0x201),'common/storage.js','common/checkout-base.js',_0x45f2f5(0x1e4),'sites/target/checkout.js','sites/target/content-script.js'];if(_0x1ce715==='product'){const _0x5460c9=Object['keys'](injectedScripts)['filter'](_0x5e5fa1=>_0x5e5fa1['startsWith'](_0x57ff63+'_')&&!_0x5e5fa1['includes'](_0x1815e6['url']));_0x5460c9[_0x45f2f5(0x214)]>0x0&&(console[_0x45f2f5(0x222)]('Cleaning\x20up\x20'+_0x5460c9['length']+'\x20previous\x20script\x20injections\x20for\x20tab\x20'+_0x57ff63),_0x5460c9[_0x45f2f5(0x1ed)](_0x3c835a=>delete injectedScripts[_0x3c835a]));}injectScripts(_0x57ff63,_0x8790f5)['then'](()=>{_0x1ce715&&setTimeout(async()=>{const _0x2116b4=_0x456e;console[_0x2116b4(0x222)]('Sending\x20detectPage\x20message\x20for\x20'+_0x1ce715+_0x2116b4(0x200)+_0x57ff63);const _0x4930d8=await sendTabMessageWithRetry(_0x57ff63,{'action':'detectPage','site':'target','type':_0x1ce715},0x3,0x320);_0x4930d8&&console['log']('Successfully\x20notified\x20tab\x20'+_0x57ff63+'\x20about\x20'+_0x1ce715+'\x20page');},0x320);});}catch(_0x5d61b5){console['error']('Error\x20in\x20Target\x20URL\x20detection/injection:',_0x5d61b5);}}});